- name: Slurm all in One
  hosts: localhost
  become: true
  vars:
    slurm_roles: ['controller', 'exec', 'dbd']
    slurmdbd_config:
      StorageType: "accounting_storage/slurmdbd"
      DbdHost: "localhost"
      PidFile: "/var/run/slurmdbd.pid"
    slurm_partitions:
      - name: default
        Default: YES
        MaxTime: UNLIMITED
        Nodes: "localhost"
  roles:
    - role: galaxyproject.slurm
    - role: cyverse-ansible.singularity
